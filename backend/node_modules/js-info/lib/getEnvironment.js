'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getEnvironment;

var _get = require('lodash/get');

var _get2 = _interopRequireDefault(_get);

var _includes = require('lodash/includes');

var _includes2 = _interopRequireDefault(_includes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var env = process ? process.env || {} : {};
var argv = process ? process.argv || {} : {};

function getEnvironment() {
  var environment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'development';

  var nodeEnv = (env.NODE_ENV || '').toLowerCase();
  if ((0, _includes2.default)(argv, '--test') || (0, _includes2.default)(argv, '--testing')) {
    environment = 'testing';
  } else if ((0, _includes2.default)(argv, '--stage') || (0, _includes2.default)(argv, '--staging')) {
    environment = 'staging';
  } else if ((0, _includes2.default)(argv, '--prod') || (0, _includes2.default)(argv, '--production')) {
    environment = 'production';
  } else if ((0, _includes2.default)(argv, '--dev') || (0, _includes2.default)(argv, '--development')) {
    environment = 'development';
  } else if (nodeEnv === 'test' || nodeEnv === 'testing') {
    environment = 'testing';
  } else if (nodeEnv === 'stage' || nodeEnv === 'staging') {
    environment = 'staging';
  } else if (nodeEnv === 'prod' || nodeEnv === 'production') {
    environment = 'production';
  } else if (nodeEnv === 'dev' || nodeEnv === 'development') {
    environment = 'development';
  } else if ((0, _get2.default)(env, '__DEV__', '').toLowerCase() === 'false') {
    environment = 'production';
  }
  return environment;
}